import{r as c,j as n,b as ne,R as an,S as fe,$ as J,K as $n,L as Yn}from"./app-PAcH8mEI.js";import{ah as Vn,ai as Kn,aj as Xn,ak as qn,t as Se,u as Zn,A as Wt,a as $t,b as Yt,ag as Jn,a3 as ke,a6 as Qn,al as er}from"./app-header-layout-0fU0bezq.js";import{c as gt,B as Re}from"./app-logo-icon-C1GCiWs0.js";import{C as Vt}from"./checkbox-D2uzdcW9.js";import{L as de}from"./label-CY5Yq7-4.js";import"./index-DQ1IlWpQ.js";import{f as Kt}from"./dateHelper-DeSP8uTY.js";import{S as Te}from"./separator-CvoDClFk.js";/* empty css            */import"./index-ClCDInp8.js";function ee(e,t,{checkForDefaultPrevented:o=!0}={}){return function(a){if(e==null||e(a),o===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function Xt(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function ln(...e){return t=>{let o=!1;const s=e.map(a=>{const l=Xt(a,t);return!o&&typeof l=="function"&&(o=!0),l});if(o)return()=>{for(let a=0;a<s.length;a++){const l=s[a];typeof l=="function"?l():Xt(e[a],null)}}}}function re(...e){return c.useCallback(ln(...e),e)}function $e(e,t=[]){let o=[];function s(l,u){const d=c.createContext(u),m=o.length;o=[...o,u];const f=v=>{var R;const{scope:N,children:b,...E}=v,T=((R=N==null?void 0:N[e])==null?void 0:R[m])||d,y=c.useMemo(()=>E,Object.values(E));return n.jsx(T.Provider,{value:y,children:b})};f.displayName=l+"Provider";function g(v,N){var T;const b=((T=N==null?void 0:N[e])==null?void 0:T[m])||d,E=c.useContext(b);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${v}\` must be used within \`${l}\``)}return[f,g]}const a=()=>{const l=o.map(u=>c.createContext(u));return function(d){const m=(d==null?void 0:d[e])||l;return c.useMemo(()=>({[`__scope${e}`]:{...d,[e]:m}}),[d,m])}};return a.scopeName=e,[s,tr(a,...t)]}function tr(...e){const t=e[0];if(e.length===1)return t;const o=()=>{const s=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(l){const u=s.reduce((d,{useScope:m,scopeName:f})=>{const v=m(l)[`__scope${f}`];return{...d,...v}},{});return c.useMemo(()=>({[`__scope${t.scopeName}`]:u}),[u])}};return o.scopeName=t.scopeName,o}function ft(e){const t=nr(e),o=c.forwardRef((s,a)=>{const{children:l,...u}=s,d=c.Children.toArray(l),m=d.find(or);if(m){const f=m.props.children,g=d.map(v=>v===m?c.Children.count(f)>1?c.Children.only(null):c.isValidElement(f)?f.props.children:null:v);return n.jsx(t,{...u,ref:a,children:c.isValidElement(f)?c.cloneElement(f,void 0,g):null})}return n.jsx(t,{...u,ref:a,children:l})});return o.displayName=`${e}.Slot`,o}function nr(e){const t=c.forwardRef((o,s)=>{const{children:a,...l}=o;if(c.isValidElement(a)){const u=ar(a),d=sr(l,a.props);return a.type!==c.Fragment&&(d.ref=s?ln(s,u):u),c.cloneElement(a,d)}return c.Children.count(a)>1?c.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var rr=Symbol("radix.slottable");function or(e){return c.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===rr}function sr(e,t){const o={...t};for(const s in t){const a=e[s],l=t[s];/^on[A-Z]/.test(s)?a&&l?o[s]=(...d)=>{const m=l(...d);return a(...d),m}:a&&(o[s]=a):s==="style"?o[s]={...a,...l}:s==="className"&&(o[s]=[a,l].filter(Boolean).join(" "))}return{...e,...o}}function ar(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var ir=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],me=ir.reduce((e,t)=>{const o=ft(`Primitive.${t}`),s=c.forwardRef((a,l)=>{const{asChild:u,...d}=a,m=u?o:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),n.jsx(m,{...d,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function lr(e){const t=e+"CollectionProvider",[o,s]=$e(t),[a,l]=o(t,{collectionRef:{current:null},itemMap:new Map}),u=T=>{const{scope:y,children:R}=T,A=ne.useRef(null),_=ne.useRef(new Map).current;return n.jsx(a,{scope:y,itemMap:_,collectionRef:A,children:R})};u.displayName=t;const d=e+"CollectionSlot",m=ft(d),f=ne.forwardRef((T,y)=>{const{scope:R,children:A}=T,_=l(d,R),x=re(y,_.collectionRef);return n.jsx(m,{ref:x,children:A})});f.displayName=d;const g=e+"CollectionItemSlot",v="data-radix-collection-item",N=ft(g),b=ne.forwardRef((T,y)=>{const{scope:R,children:A,..._}=T,x=ne.useRef(null),w=re(y,x),M=l(g,R);return ne.useEffect(()=>(M.itemMap.set(x,{ref:x,..._}),()=>void M.itemMap.delete(x))),n.jsx(N,{[v]:"",ref:w,children:A})});b.displayName=g;function E(T){const y=l(e+"CollectionConsumer",T);return ne.useCallback(()=>{const A=y.collectionRef.current;if(!A)return[];const _=Array.from(A.querySelectorAll(`[${v}]`));return Array.from(y.itemMap.values()).sort((M,Y)=>_.indexOf(M.ref.current)-_.indexOf(Y.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:u,Slot:f,ItemSlot:b},E,s]}var we=globalThis!=null&&globalThis.document?c.useLayoutEffect:()=>{},cr=an[" useId ".trim().toString()]||(()=>{}),ur=0;function dr(e){const[t,o]=c.useState(cr());return we(()=>{o(s=>s??String(ur++))},[e]),t?`radix-${t}`:""}function fr(e){const t=c.useRef(e);return c.useEffect(()=>{t.current=e}),c.useMemo(()=>(...o)=>{var s;return(s=t.current)==null?void 0:s.call(t,...o)},[])}var mr=an[" useInsertionEffect ".trim().toString()]||we;function cn({prop:e,defaultProp:t,onChange:o=()=>{},caller:s}){const[a,l,u]=pr({defaultProp:t,onChange:o}),d=e!==void 0,m=d?e:a;{const g=c.useRef(e!==void 0);c.useEffect(()=>{const v=g.current;v!==d&&console.warn(`${s} is changing from ${v?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),g.current=d},[d,s])}const f=c.useCallback(g=>{var v;if(d){const N=hr(g)?g(e):g;N!==e&&((v=u.current)==null||v.call(u,N))}else l(g)},[d,e,l,u]);return[m,f]}function pr({defaultProp:e,onChange:t}){const[o,s]=c.useState(e),a=c.useRef(o),l=c.useRef(t);return mr(()=>{l.current=t},[t]),c.useEffect(()=>{var u;a.current!==o&&((u=l.current)==null||u.call(l,o),a.current=o)},[o,a]),[o,s,l]}function hr(e){return typeof e=="function"}var xr=c.createContext(void 0);function un(e){const t=c.useContext(xr);return e||t||"ltr"}var at="rovingFocusGroup.onEntryFocus",gr={bubbles:!1,cancelable:!0},Ie="RovingFocusGroup",[mt,dn,vr]=lr(Ie),[br,fn]=$e(Ie,[vr]),[Er,yr]=br(Ie),mn=c.forwardRef((e,t)=>n.jsx(mt.Provider,{scope:e.__scopeRovingFocusGroup,children:n.jsx(mt.Slot,{scope:e.__scopeRovingFocusGroup,children:n.jsx(_r,{...e,ref:t})})}));mn.displayName=Ie;var _r=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,orientation:s,loop:a=!1,dir:l,currentTabStopId:u,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:m,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...v}=e,N=c.useRef(null),b=re(t,N),E=un(l),[T,y]=cn({prop:u,defaultProp:d??null,onChange:m,caller:Ie}),[R,A]=c.useState(!1),_=fr(f),x=dn(o),w=c.useRef(!1),[M,Y]=c.useState(0);return c.useEffect(()=>{const k=N.current;if(k)return k.addEventListener(at,_),()=>k.removeEventListener(at,_)},[_]),n.jsx(Er,{scope:o,orientation:s,dir:E,loop:a,currentTabStopId:T,onItemFocus:c.useCallback(k=>y(k),[y]),onItemShiftTab:c.useCallback(()=>A(!0),[]),onFocusableItemAdd:c.useCallback(()=>Y(k=>k+1),[]),onFocusableItemRemove:c.useCallback(()=>Y(k=>k-1),[]),children:n.jsx(me.div,{tabIndex:R||M===0?-1:0,"data-orientation":s,...v,ref:b,style:{outline:"none",...e.style},onMouseDown:ee(e.onMouseDown,()=>{w.current=!0}),onFocus:ee(e.onFocus,k=>{const Ve=!w.current;if(k.target===k.currentTarget&&Ve&&!R){const Ce=new CustomEvent(at,gr);if(k.currentTarget.dispatchEvent(Ce),!Ce.defaultPrevented){const j=x().filter(K=>K.focusable),pe=j.find(K=>K.active),he=j.find(K=>K.id===T),Ke=[pe,he,...j].filter(Boolean).map(K=>K.ref.current);xn(Ke,g)}}w.current=!1}),onBlur:ee(e.onBlur,()=>A(!1))})})}),pn="RovingFocusGroupItem",hn=c.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:o,focusable:s=!0,active:a=!1,tabStopId:l,children:u,...d}=e,m=dr(),f=l||m,g=yr(pn,o),v=g.currentTabStopId===f,N=dn(o),{onFocusableItemAdd:b,onFocusableItemRemove:E,currentTabStopId:T}=g;return c.useEffect(()=>{if(s)return b(),()=>E()},[s,b,E]),n.jsx(mt.ItemSlot,{scope:o,id:f,focusable:s,active:a,children:n.jsx(me.span,{tabIndex:v?0:-1,"data-orientation":g.orientation,...d,ref:t,onMouseDown:ee(e.onMouseDown,y=>{s?g.onItemFocus(f):y.preventDefault()}),onFocus:ee(e.onFocus,()=>g.onItemFocus(f)),onKeyDown:ee(e.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){g.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const R=Sr(y,g.orientation,g.dir);if(R!==void 0){if(y.metaKey||y.ctrlKey||y.altKey||y.shiftKey)return;y.preventDefault();let _=N().filter(x=>x.focusable).map(x=>x.ref.current);if(R==="last")_.reverse();else if(R==="prev"||R==="next"){R==="prev"&&_.reverse();const x=_.indexOf(y.currentTarget);_=g.loop?Tr(_,x+1):_.slice(x+1)}setTimeout(()=>xn(_))}}),children:typeof u=="function"?u({isCurrentTabStop:v,hasTabStop:T!=null}):u})})});hn.displayName=pn;var Nr={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Ar(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function Sr(e,t,o){const s=Ar(e.key,o);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return Nr[s]}function xn(e,t=!1){const o=document.activeElement;for(const s of e)if(s===o||(s.focus({preventScroll:t}),document.activeElement!==o))return}function Tr(e,t){return e.map((o,s)=>e[(t+s)%e.length])}var Rr=mn,wr=hn;function Ir(e){const[t,o]=c.useState(void 0);return we(()=>{if(e){o({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const l=a[0];let u,d;if("borderBoxSize"in l){const m=l.borderBoxSize,f=Array.isArray(m)?m[0]:m;u=f.inlineSize,d=f.blockSize}else u=e.offsetWidth,d=e.offsetHeight;o({width:u,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else o(void 0)},[e]),t}function Cr(e){const t=c.useRef({value:e,previous:e});return c.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function jr(e,t){return c.useReducer((o,s)=>t[o][s]??o,e)}var gn=e=>{const{present:t,children:o}=e,s=Or(t),a=typeof o=="function"?o({present:s.isPresent}):c.Children.only(o),l=re(s.ref,Mr(a));return typeof o=="function"||s.isPresent?c.cloneElement(a,{ref:l}):null};gn.displayName="Presence";function Or(e){const[t,o]=c.useState(),s=c.useRef(null),a=c.useRef(e),l=c.useRef("none"),u=e?"mounted":"unmounted",[d,m]=jr(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.useEffect(()=>{const f=ze(s.current);l.current=d==="mounted"?f:"none"},[d]),we(()=>{const f=s.current,g=a.current;if(g!==e){const N=l.current,b=ze(f);e?m("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?m("UNMOUNT"):m(g&&N!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,m]),we(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,v=b=>{const T=ze(s.current).includes(b.animationName);if(b.target===t&&T&&(m("ANIMATION_END"),!a.current)){const y=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=y)})}},N=b=>{b.target===t&&(l.current=ze(s.current))};return t.addEventListener("animationstart",N),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",N),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else m("ANIMATION_END")},[t,m]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:c.useCallback(f=>{s.current=f?getComputedStyle(f):null,o(f)},[])}}function ze(e){return(e==null?void 0:e.animationName)||"none"}function Mr(e){var s,a;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,o=t&&"isReactWarning"in t&&t.isReactWarning;return o?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,o=t&&"isReactWarning"in t&&t.isReactWarning,o?e.props.ref:e.props.ref||e.ref)}var vt="Radio",[Lr,vn]=$e(vt),[Dr,Pr]=Lr(vt),bn=c.forwardRef((e,t)=>{const{__scopeRadio:o,name:s,checked:a=!1,required:l,disabled:u,value:d="on",onCheck:m,form:f,...g}=e,[v,N]=c.useState(null),b=re(t,y=>N(y)),E=c.useRef(!1),T=v?f||!!v.closest("form"):!0;return n.jsxs(Dr,{scope:o,checked:a,disabled:u,children:[n.jsx(me.button,{type:"button",role:"radio","aria-checked":a,"data-state":Nn(a),"data-disabled":u?"":void 0,disabled:u,value:d,...g,ref:b,onClick:ee(e.onClick,y=>{a||m==null||m(),T&&(E.current=y.isPropagationStopped(),E.current||y.stopPropagation())})}),T&&n.jsx(_n,{control:v,bubbles:!E.current,name:s,value:d,checked:a,required:l,disabled:u,form:f,style:{transform:"translateX(-100%)"}})]})});bn.displayName=vt;var En="RadioIndicator",yn=c.forwardRef((e,t)=>{const{__scopeRadio:o,forceMount:s,...a}=e,l=Pr(En,o);return n.jsx(gn,{present:s||l.checked,children:n.jsx(me.span,{"data-state":Nn(l.checked),"data-disabled":l.disabled?"":void 0,...a,ref:t})})});yn.displayName=En;var Fr="RadioBubbleInput",_n=c.forwardRef(({__scopeRadio:e,control:t,checked:o,bubbles:s=!0,...a},l)=>{const u=c.useRef(null),d=re(u,l),m=Cr(o),f=Ir(t);return c.useEffect(()=>{const g=u.current;if(!g)return;const v=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(v,"checked").set;if(m!==o&&b){const E=new Event("click",{bubbles:s});b.call(g,o),g.dispatchEvent(E)}},[m,o,s]),n.jsx(me.input,{type:"radio","aria-hidden":!0,defaultChecked:o,...a,tabIndex:-1,ref:d,style:{...a.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});_n.displayName=Fr;function Nn(e){return e?"checked":"unchecked"}var Ur=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Ye="RadioGroup",[kr,jo]=$e(Ye,[fn,vn]),An=fn(),Sn=vn(),[zr,Gr]=kr(Ye),Tn=c.forwardRef((e,t)=>{const{__scopeRadioGroup:o,name:s,defaultValue:a,value:l,required:u=!1,disabled:d=!1,orientation:m,dir:f,loop:g=!0,onValueChange:v,...N}=e,b=An(o),E=un(f),[T,y]=cn({prop:l,defaultProp:a??null,onChange:v,caller:Ye});return n.jsx(zr,{scope:o,name:s,required:u,disabled:d,value:T,onValueChange:y,children:n.jsx(Rr,{asChild:!0,...b,orientation:m,dir:E,loop:g,children:n.jsx(me.div,{role:"radiogroup","aria-required":u,"aria-orientation":m,"data-disabled":d?"":void 0,dir:E,...N,ref:t})})})});Tn.displayName=Ye;var Rn="RadioGroupItem",wn=c.forwardRef((e,t)=>{const{__scopeRadioGroup:o,disabled:s,...a}=e,l=Gr(Rn,o),u=l.disabled||s,d=An(o),m=Sn(o),f=c.useRef(null),g=re(t,f),v=l.value===a.value,N=c.useRef(!1);return c.useEffect(()=>{const b=T=>{Ur.includes(T.key)&&(N.current=!0)},E=()=>N.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",E),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",E)}},[]),n.jsx(wr,{asChild:!0,...d,focusable:!u,active:v,children:n.jsx(bn,{disabled:u,required:l.required,checked:v,...m,...a,name:l.name,ref:g,onCheck:()=>l.onValueChange(a.value),onKeyDown:ee(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:ee(a.onFocus,()=>{var b;N.current&&((b=f.current)==null||b.click())})})})});wn.displayName=Rn;var Hr="RadioGroupIndicator",In=c.forwardRef((e,t)=>{const{__scopeRadioGroup:o,...s}=e,a=Sn(o);return n.jsx(yn,{...a,...s,ref:t})});In.displayName=Hr;var Br=Tn,Wr=wn,$r=In;function Yr({className:e,...t}){return n.jsx(Br,{"data-slot":"radio-group",className:gt("grid gap-3",e),...t})}function Ge({className:e,...t}){return n.jsx(Wr,{"data-slot":"radio-group-item",className:gt("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:n.jsx($r,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:n.jsx(Vn,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Vr({selectedTicket:e,modeOfAddressings:t,users:o}){const[s,a]=c.useState(!1),[l,u]=c.useState(!1),[d,m]=c.useState(!1),[f,g]=c.useState(!1),[v,N]=c.useState(""),b=o.filter(A=>A.name.toLowerCase().includes(v.toLowerCase())),E=A=>{a(!0);const _={ticketId:(e==null?void 0:e.id)??"",clientType:A},x=new Promise((w,M)=>{fe.post(route("update.client-type"),_,{preserveScroll:!0,onSuccess:()=>w(),onError:()=>M()})});Se.promise(x,{loading:"Updating client type...",success:"Client type updated!",error:"Failed to update client type!",duration:5e3}),x.finally(()=>{a(!1)})},T=(A,_)=>{u(!0);const x={ticketId:(e==null?void 0:e.id)??"",modeId:A,checked:_},w=new Promise((M,Y)=>{fe.post(route("update.mode-of-addressing"),x,{preserveScroll:!0,onSuccess:()=>M(),onError:()=>Y()})});Se.promise(w,{loading:"Updating mode of addressing...",success:"Mode of addressing updated!",error:"Failed to update mode of addressing!",duration:5e3}),w.finally(()=>{u(!1)})},y=(A,_)=>{m(!0);const x={ticketId:(e==null?void 0:e.id)??"",userId:A,checked:_},w=new Promise((M,Y)=>{fe.post(route("update.assigned-to"),x,{preserveScroll:!0,onSuccess:()=>M(),onError:()=>Y()})});Se.promise(w,{loading:"Updating assigned to...",success:"Assigned to updated!",error:"Failed to update assigned to!",duration:5e3}),w.finally(()=>{m(!1)})},R=A=>{g(!0);const _={ticketId:(e==null?void 0:e.id)??"",status:A},x=new Promise((w,M)=>{fe.post(route("update.status"),_,{preserveScroll:!0,onSuccess:()=>w(),onError:()=>M()})});Se.promise(x,{loading:"Updating status...",success:"Status updated!",error:"Failed to update status!",duration:5e3}),x.finally(()=>{g(!1)})};return n.jsxs("div",{className:"flex w-40 flex-col gap-2",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Client Type"}),n.jsx("div",{className:"flex flex-col justify-between gap-2 rounded-md border border-gray-200 p-3 shadow-sm",children:n.jsxs(Yr,{defaultValue:e.client_type,onValueChange:A=>{E(A)},disabled:s,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ge,{value:"student",id:"student-radio"}),n.jsx(de,{htmlFor:"student-radio",className:"text-xs",children:"Student"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ge,{value:"parent",id:"parent-radio"}),n.jsx(de,{htmlFor:"parent-radio",className:"text-xs",children:"Parent"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ge,{value:"hei_personnel",id:"hei-personnel-radio"}),n.jsx(de,{htmlFor:"hei-personnel-radio",className:"text-xs",children:"HEI Personnel"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Ge,{value:"other_stakeholders",id:"other-stakeholders-radio"}),n.jsx(de,{htmlFor:"other-stakeholders-radio",className:"text-xs",children:"Other Stakeholders"})]})]})}),n.jsx("div",{className:"text-sm text-gray-500",children:"Mode of Addressing"}),n.jsx("div",{className:"flex flex-col justify-between gap-2 rounded-md border border-gray-200 p-3 shadow-sm",children:t.map((A,_)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Vt,{id:`mode-${_}`,checked:e.mode_of_addressings.some(x=>x.mode_of_addressing_id===A.id),onCheckedChange:x=>T(A.id,x),disabled:l}),n.jsx(de,{htmlFor:`mode-${_}`,className:"text-xs",children:A.mode})]},_))}),n.jsx("div",{className:"text-sm text-gray-500",children:"Assigned To"}),n.jsxs("div",{className:"flex flex-col justify-between gap-2 rounded-md border border-gray-200 p-3 shadow-sm",children:[n.jsx("input",{type:"text",placeholder:"Search user...",className:"w-full border-b text-xs",value:v,onChange:A=>N(A.target.value)}),b.map((A,_)=>n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(Vt,{id:`user-${_}`,checked:e.assigned_tos.some(x=>x.assigned_to_id===A.id),onCheckedChange:x=>y(A.id,x),disabled:d}),n.jsx(de,{htmlFor:`user-${_}`,className:"text-xs",children:A.name})]},_)),b.length===0&&n.jsx("span",{className:"text-xs text-gray-500",children:"No users found."})]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Status"}),n.jsx("div",{className:"flex flex-col justify-between gap-2 rounded-md border border-gray-200 p-3 shadow-sm",children:e.status==="rejected"||e.status==="resolved"?n.jsxs(Re,{className:"cursor-pointer",variant:"warning",size:"sm",onClick:()=>R("open"),disabled:f,children:[n.jsx(Kn,{}),"Reopen"]}):n.jsxs(n.Fragment,{children:[n.jsxs(Re,{className:"cursor-pointer",variant:"success",size:"sm",onClick:()=>R("resolved"),disabled:f,children:[n.jsx(Xn,{}),"Resolve"]}),n.jsxs(Re,{className:"cursor-pointer",variant:"danger",size:"sm",onClick:()=>R("rejected"),disabled:f,children:[n.jsx(qn,{}),"Reject"]})]})})]})}function pt(e){switch(e){case"open":return{label:"Open",className:"bg-yellow-400 text-black"};case"on-going":return{label:"On-Going",className:"bg-blue-500 text-white"};case"resolved":return{label:"Resolved",className:"bg-green-700 text-white"};case"rejected":return{label:"Rejected",className:"bg-red-600 text-white"};default:return{label:e,className:"bg-gray-400 text-white"}}}/*! @license DOMPurify 3.2.6 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.6/LICENSE */const{entries:Cn,setPrototypeOf:qt,isFrozen:Kr,getPrototypeOf:Xr,getOwnPropertyDescriptor:qr}=Object;let{freeze:G,seal:W,create:jn}=Object,{apply:ht,construct:xt}=typeof Reflect<"u"&&Reflect;G||(G=function(t){return t});W||(W=function(t){return t});ht||(ht=function(t,o,s){return t.apply(o,s)});xt||(xt=function(t,o){return new t(...o)});const He=H(Array.prototype.forEach),Zr=H(Array.prototype.lastIndexOf),Zt=H(Array.prototype.pop),Ee=H(Array.prototype.push),Jr=H(Array.prototype.splice),We=H(String.prototype.toLowerCase),it=H(String.prototype.toString),Jt=H(String.prototype.match),ye=H(String.prototype.replace),Qr=H(String.prototype.indexOf),eo=H(String.prototype.trim),$=H(Object.prototype.hasOwnProperty),z=H(RegExp.prototype.test),_e=to(TypeError);function H(e){return function(t){t instanceof RegExp&&(t.lastIndex=0);for(var o=arguments.length,s=new Array(o>1?o-1:0),a=1;a<o;a++)s[a-1]=arguments[a];return ht(e,t,s)}}function to(e){return function(){for(var t=arguments.length,o=new Array(t),s=0;s<t;s++)o[s]=arguments[s];return xt(e,o)}}function S(e,t){let o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:We;qt&&qt(e,null);let s=t.length;for(;s--;){let a=t[s];if(typeof a=="string"){const l=o(a);l!==a&&(Kr(t)||(t[s]=l),a=l)}e[a]=!0}return e}function no(e){for(let t=0;t<e.length;t++)$(e,t)||(e[t]=null);return e}function Q(e){const t=jn(null);for(const[o,s]of Cn(e))$(e,o)&&(Array.isArray(s)?t[o]=no(s):s&&typeof s=="object"&&s.constructor===Object?t[o]=Q(s):t[o]=s);return t}function Ne(e,t){for(;e!==null;){const s=qr(e,t);if(s){if(s.get)return H(s.get);if(typeof s.value=="function")return H(s.value)}e=Xr(e)}function o(){return null}return o}const Qt=G(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),lt=G(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ct=G(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),ro=G(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ut=G(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oo=G(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),en=G(["#text"]),tn=G(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),dt=G(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),nn=G(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Be=G(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),so=W(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ao=W(/<%[\w\W]*|[\w\W]*%>/gm),io=W(/\$\{[\w\W]*/gm),lo=W(/^data-[\-\w.\u00B7-\uFFFF]+$/),co=W(/^aria-[\-\w]+$/),On=W(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),uo=W(/^(?:\w+script|data):/i),fo=W(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Mn=W(/^html$/i),mo=W(/^[a-z][.\w]*(-[.\w]+)+$/i);var rn=Object.freeze({__proto__:null,ARIA_ATTR:co,ATTR_WHITESPACE:fo,CUSTOM_ELEMENT:mo,DATA_ATTR:lo,DOCTYPE_NAME:Mn,ERB_EXPR:ao,IS_ALLOWED_URI:On,IS_SCRIPT_OR_DATA:uo,MUSTACHE_EXPR:so,TMPLIT_EXPR:io});const Ae={element:1,text:3,progressingInstruction:7,comment:8,document:9},po=function(){return typeof window>"u"?null:window},ho=function(t,o){if(typeof t!="object"||typeof t.createPolicy!="function")return null;let s=null;const a="data-tt-policy-suffix";o&&o.hasAttribute(a)&&(s=o.getAttribute(a));const l="dompurify"+(s?"#"+s:"");try{return t.createPolicy(l,{createHTML(u){return u},createScriptURL(u){return u}})}catch{return console.warn("TrustedTypes policy "+l+" could not be created."),null}},on=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function Ln(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:po();const t=h=>Ln(h);if(t.version="3.2.6",t.removed=[],!e||!e.document||e.document.nodeType!==Ae.document||!e.Element)return t.isSupported=!1,t;let{document:o}=e;const s=o,a=s.currentScript,{DocumentFragment:l,HTMLTemplateElement:u,Node:d,Element:m,NodeFilter:f,NamedNodeMap:g=e.NamedNodeMap||e.MozNamedAttrMap,HTMLFormElement:v,DOMParser:N,trustedTypes:b}=e,E=m.prototype,T=Ne(E,"cloneNode"),y=Ne(E,"remove"),R=Ne(E,"nextSibling"),A=Ne(E,"childNodes"),_=Ne(E,"parentNode");if(typeof u=="function"){const h=o.createElement("template");h.content&&h.content.ownerDocument&&(o=h.content.ownerDocument)}let x,w="";const{implementation:M,createNodeIterator:Y,createDocumentFragment:k,getElementsByTagName:Ve}=o,{importNode:Ce}=s;let j=on();t.isSupported=typeof Cn=="function"&&typeof _=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:pe,ERB_EXPR:he,TMPLIT_EXPR:je,DATA_ATTR:Ke,ARIA_ATTR:K,IS_SCRIPT_OR_DATA:Dn,ATTR_WHITESPACE:bt,CUSTOM_ELEMENT:Pn}=rn;let{IS_ALLOWED_URI:Et}=rn,L=null;const yt=S({},[...Qt,...lt,...ct,...ut,...en]);let P=null;const _t=S({},[...tn,...dt,...nn,...Be]);let C=Object.seal(jn(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,Xe=null,Nt=!0,qe=!0,At=!1,St=!0,oe=!1,Oe=!0,te=!1,Ze=!1,Je=!1,se=!1,Me=!1,Le=!1,Tt=!0,Rt=!1;const Fn="user-content-";let Qe=!0,ge=!1,ae={},ie=null;const wt=S({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let It=null;const Ct=S({},["audio","video","img","source","image","track"]);let et=null;const jt=S({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),De="http://www.w3.org/1998/Math/MathML",Pe="http://www.w3.org/2000/svg",X="http://www.w3.org/1999/xhtml";let le=X,tt=!1,nt=null;const Un=S({},[De,Pe,X],it);let Fe=S({},["mi","mo","mn","ms","mtext"]),Ue=S({},["annotation-xml"]);const kn=S({},["title","style","font","a","script"]);let ve=null;const zn=["application/xhtml+xml","text/html"],Gn="text/html";let D=null,ce=null;const Hn=o.createElement("form"),Ot=function(r){return r instanceof RegExp||r instanceof Function},rt=function(){let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ce&&ce===r)){if((!r||typeof r!="object")&&(r={}),r=Q(r),ve=zn.indexOf(r.PARSER_MEDIA_TYPE)===-1?Gn:r.PARSER_MEDIA_TYPE,D=ve==="application/xhtml+xml"?it:We,L=$(r,"ALLOWED_TAGS")?S({},r.ALLOWED_TAGS,D):yt,P=$(r,"ALLOWED_ATTR")?S({},r.ALLOWED_ATTR,D):_t,nt=$(r,"ALLOWED_NAMESPACES")?S({},r.ALLOWED_NAMESPACES,it):Un,et=$(r,"ADD_URI_SAFE_ATTR")?S(Q(jt),r.ADD_URI_SAFE_ATTR,D):jt,It=$(r,"ADD_DATA_URI_TAGS")?S(Q(Ct),r.ADD_DATA_URI_TAGS,D):Ct,ie=$(r,"FORBID_CONTENTS")?S({},r.FORBID_CONTENTS,D):wt,xe=$(r,"FORBID_TAGS")?S({},r.FORBID_TAGS,D):Q({}),Xe=$(r,"FORBID_ATTR")?S({},r.FORBID_ATTR,D):Q({}),ae=$(r,"USE_PROFILES")?r.USE_PROFILES:!1,Nt=r.ALLOW_ARIA_ATTR!==!1,qe=r.ALLOW_DATA_ATTR!==!1,At=r.ALLOW_UNKNOWN_PROTOCOLS||!1,St=r.ALLOW_SELF_CLOSE_IN_ATTR!==!1,oe=r.SAFE_FOR_TEMPLATES||!1,Oe=r.SAFE_FOR_XML!==!1,te=r.WHOLE_DOCUMENT||!1,se=r.RETURN_DOM||!1,Me=r.RETURN_DOM_FRAGMENT||!1,Le=r.RETURN_TRUSTED_TYPE||!1,Je=r.FORCE_BODY||!1,Tt=r.SANITIZE_DOM!==!1,Rt=r.SANITIZE_NAMED_PROPS||!1,Qe=r.KEEP_CONTENT!==!1,ge=r.IN_PLACE||!1,Et=r.ALLOWED_URI_REGEXP||On,le=r.NAMESPACE||X,Fe=r.MATHML_TEXT_INTEGRATION_POINTS||Fe,Ue=r.HTML_INTEGRATION_POINTS||Ue,C=r.CUSTOM_ELEMENT_HANDLING||{},r.CUSTOM_ELEMENT_HANDLING&&Ot(r.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(C.tagNameCheck=r.CUSTOM_ELEMENT_HANDLING.tagNameCheck),r.CUSTOM_ELEMENT_HANDLING&&Ot(r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(C.attributeNameCheck=r.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),r.CUSTOM_ELEMENT_HANDLING&&typeof r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(C.allowCustomizedBuiltInElements=r.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),oe&&(qe=!1),Me&&(se=!0),ae&&(L=S({},en),P=[],ae.html===!0&&(S(L,Qt),S(P,tn)),ae.svg===!0&&(S(L,lt),S(P,dt),S(P,Be)),ae.svgFilters===!0&&(S(L,ct),S(P,dt),S(P,Be)),ae.mathMl===!0&&(S(L,ut),S(P,nn),S(P,Be))),r.ADD_TAGS&&(L===yt&&(L=Q(L)),S(L,r.ADD_TAGS,D)),r.ADD_ATTR&&(P===_t&&(P=Q(P)),S(P,r.ADD_ATTR,D)),r.ADD_URI_SAFE_ATTR&&S(et,r.ADD_URI_SAFE_ATTR,D),r.FORBID_CONTENTS&&(ie===wt&&(ie=Q(ie)),S(ie,r.FORBID_CONTENTS,D)),Qe&&(L["#text"]=!0),te&&S(L,["html","head","body"]),L.table&&(S(L,["tbody"]),delete xe.tbody),r.TRUSTED_TYPES_POLICY){if(typeof r.TRUSTED_TYPES_POLICY.createHTML!="function")throw _e('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof r.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw _e('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');x=r.TRUSTED_TYPES_POLICY,w=x.createHTML("")}else x===void 0&&(x=ho(b,a)),x!==null&&typeof w=="string"&&(w=x.createHTML(""));G&&G(r),ce=r}},Mt=S({},[...lt,...ct,...ro]),Lt=S({},[...ut,...oo]),Bn=function(r){let i=_(r);(!i||!i.tagName)&&(i={namespaceURI:le,tagName:"template"});const p=We(r.tagName),I=We(i.tagName);return nt[r.namespaceURI]?r.namespaceURI===Pe?i.namespaceURI===X?p==="svg":i.namespaceURI===De?p==="svg"&&(I==="annotation-xml"||Fe[I]):!!Mt[p]:r.namespaceURI===De?i.namespaceURI===X?p==="math":i.namespaceURI===Pe?p==="math"&&Ue[I]:!!Lt[p]:r.namespaceURI===X?i.namespaceURI===Pe&&!Ue[I]||i.namespaceURI===De&&!Fe[I]?!1:!Lt[p]&&(kn[p]||!Mt[p]):!!(ve==="application/xhtml+xml"&&nt[r.namespaceURI]):!1},V=function(r){Ee(t.removed,{element:r});try{_(r).removeChild(r)}catch{y(r)}},ue=function(r,i){try{Ee(t.removed,{attribute:i.getAttributeNode(r),from:i})}catch{Ee(t.removed,{attribute:null,from:i})}if(i.removeAttribute(r),r==="is")if(se||Me)try{V(i)}catch{}else try{i.setAttribute(r,"")}catch{}},Dt=function(r){let i=null,p=null;if(Je)r="<remove></remove>"+r;else{const O=Jt(r,/^[\r\n\t ]+/);p=O&&O[0]}ve==="application/xhtml+xml"&&le===X&&(r='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+r+"</body></html>");const I=x?x.createHTML(r):r;if(le===X)try{i=new N().parseFromString(I,ve)}catch{}if(!i||!i.documentElement){i=M.createDocument(le,"template",null);try{i.documentElement.innerHTML=tt?w:I}catch{}}const F=i.body||i.documentElement;return r&&p&&F.insertBefore(o.createTextNode(p),F.childNodes[0]||null),le===X?Ve.call(i,te?"html":"body")[0]:te?i.documentElement:F},Pt=function(r){return Y.call(r.ownerDocument||r,r,f.SHOW_ELEMENT|f.SHOW_COMMENT|f.SHOW_TEXT|f.SHOW_PROCESSING_INSTRUCTION|f.SHOW_CDATA_SECTION,null)},ot=function(r){return r instanceof v&&(typeof r.nodeName!="string"||typeof r.textContent!="string"||typeof r.removeChild!="function"||!(r.attributes instanceof g)||typeof r.removeAttribute!="function"||typeof r.setAttribute!="function"||typeof r.namespaceURI!="string"||typeof r.insertBefore!="function"||typeof r.hasChildNodes!="function")},Ft=function(r){return typeof d=="function"&&r instanceof d};function q(h,r,i){He(h,p=>{p.call(t,r,i,ce)})}const Ut=function(r){let i=null;if(q(j.beforeSanitizeElements,r,null),ot(r))return V(r),!0;const p=D(r.nodeName);if(q(j.uponSanitizeElement,r,{tagName:p,allowedTags:L}),Oe&&r.hasChildNodes()&&!Ft(r.firstElementChild)&&z(/<[/\w!]/g,r.innerHTML)&&z(/<[/\w!]/g,r.textContent)||r.nodeType===Ae.progressingInstruction||Oe&&r.nodeType===Ae.comment&&z(/<[/\w]/g,r.data))return V(r),!0;if(!L[p]||xe[p]){if(!xe[p]&&zt(p)&&(C.tagNameCheck instanceof RegExp&&z(C.tagNameCheck,p)||C.tagNameCheck instanceof Function&&C.tagNameCheck(p)))return!1;if(Qe&&!ie[p]){const I=_(r)||r.parentNode,F=A(r)||r.childNodes;if(F&&I){const O=F.length;for(let B=O-1;B>=0;--B){const Z=T(F[B],!0);Z.__removalCount=(r.__removalCount||0)+1,I.insertBefore(Z,R(r))}}}return V(r),!0}return r instanceof m&&!Bn(r)||(p==="noscript"||p==="noembed"||p==="noframes")&&z(/<\/no(script|embed|frames)/i,r.innerHTML)?(V(r),!0):(oe&&r.nodeType===Ae.text&&(i=r.textContent,He([pe,he,je],I=>{i=ye(i,I," ")}),r.textContent!==i&&(Ee(t.removed,{element:r.cloneNode()}),r.textContent=i)),q(j.afterSanitizeElements,r,null),!1)},kt=function(r,i,p){if(Tt&&(i==="id"||i==="name")&&(p in o||p in Hn))return!1;if(!(qe&&!Xe[i]&&z(Ke,i))){if(!(Nt&&z(K,i))){if(!P[i]||Xe[i]){if(!(zt(r)&&(C.tagNameCheck instanceof RegExp&&z(C.tagNameCheck,r)||C.tagNameCheck instanceof Function&&C.tagNameCheck(r))&&(C.attributeNameCheck instanceof RegExp&&z(C.attributeNameCheck,i)||C.attributeNameCheck instanceof Function&&C.attributeNameCheck(i))||i==="is"&&C.allowCustomizedBuiltInElements&&(C.tagNameCheck instanceof RegExp&&z(C.tagNameCheck,p)||C.tagNameCheck instanceof Function&&C.tagNameCheck(p))))return!1}else if(!et[i]){if(!z(Et,ye(p,bt,""))){if(!((i==="src"||i==="xlink:href"||i==="href")&&r!=="script"&&Qr(p,"data:")===0&&It[r])){if(!(At&&!z(Dn,ye(p,bt,"")))){if(p)return!1}}}}}}return!0},zt=function(r){return r!=="annotation-xml"&&Jt(r,Pn)},Gt=function(r){q(j.beforeSanitizeAttributes,r,null);const{attributes:i}=r;if(!i||ot(r))return;const p={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:P,forceKeepAttr:void 0};let I=i.length;for(;I--;){const F=i[I],{name:O,namespaceURI:B,value:Z}=F,be=D(O),st=Z;let U=O==="value"?st:eo(st);if(p.attrName=be,p.attrValue=U,p.keepAttr=!0,p.forceKeepAttr=void 0,q(j.uponSanitizeAttribute,r,p),U=p.attrValue,Rt&&(be==="id"||be==="name")&&(ue(O,r),U=Fn+U),Oe&&z(/((--!?|])>)|<\/(style|title)/i,U)){ue(O,r);continue}if(p.forceKeepAttr)continue;if(!p.keepAttr){ue(O,r);continue}if(!St&&z(/\/>/i,U)){ue(O,r);continue}oe&&He([pe,he,je],Bt=>{U=ye(U,Bt," ")});const Ht=D(r.nodeName);if(!kt(Ht,be,U)){ue(O,r);continue}if(x&&typeof b=="object"&&typeof b.getAttributeType=="function"&&!B)switch(b.getAttributeType(Ht,be)){case"TrustedHTML":{U=x.createHTML(U);break}case"TrustedScriptURL":{U=x.createScriptURL(U);break}}if(U!==st)try{B?r.setAttributeNS(B,O,U):r.setAttribute(O,U),ot(r)?V(r):Zt(t.removed)}catch{ue(O,r)}}q(j.afterSanitizeAttributes,r,null)},Wn=function h(r){let i=null;const p=Pt(r);for(q(j.beforeSanitizeShadowDOM,r,null);i=p.nextNode();)q(j.uponSanitizeShadowNode,i,null),Ut(i),Gt(i),i.content instanceof l&&h(i.content);q(j.afterSanitizeShadowDOM,r,null)};return t.sanitize=function(h){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=null,p=null,I=null,F=null;if(tt=!h,tt&&(h="<!-->"),typeof h!="string"&&!Ft(h))if(typeof h.toString=="function"){if(h=h.toString(),typeof h!="string")throw _e("dirty is not a string, aborting")}else throw _e("toString is not a function");if(!t.isSupported)return h;if(Ze||rt(r),t.removed=[],typeof h=="string"&&(ge=!1),ge){if(h.nodeName){const Z=D(h.nodeName);if(!L[Z]||xe[Z])throw _e("root node is forbidden and cannot be sanitized in-place")}}else if(h instanceof d)i=Dt("<!---->"),p=i.ownerDocument.importNode(h,!0),p.nodeType===Ae.element&&p.nodeName==="BODY"||p.nodeName==="HTML"?i=p:i.appendChild(p);else{if(!se&&!oe&&!te&&h.indexOf("<")===-1)return x&&Le?x.createHTML(h):h;if(i=Dt(h),!i)return se?null:Le?w:""}i&&Je&&V(i.firstChild);const O=Pt(ge?h:i);for(;I=O.nextNode();)Ut(I),Gt(I),I.content instanceof l&&Wn(I.content);if(ge)return h;if(se){if(Me)for(F=k.call(i.ownerDocument);i.firstChild;)F.appendChild(i.firstChild);else F=i;return(P.shadowroot||P.shadowrootmode)&&(F=Ce.call(s,F,!0)),F}let B=te?i.outerHTML:i.innerHTML;return te&&L["!doctype"]&&i.ownerDocument&&i.ownerDocument.doctype&&i.ownerDocument.doctype.name&&z(Mn,i.ownerDocument.doctype.name)&&(B="<!DOCTYPE "+i.ownerDocument.doctype.name+`>
`+B),oe&&He([pe,he,je],Z=>{B=ye(B,Z," ")}),x&&Le?x.createHTML(B):B},t.setConfig=function(){let h=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt(h),Ze=!0},t.clearConfig=function(){ce=null,Ze=!1},t.isValidAttribute=function(h,r,i){ce||rt({});const p=D(h),I=D(r);return kt(p,I,i)},t.addHook=function(h,r){typeof r=="function"&&Ee(j[h],r)},t.removeHook=function(h,r){if(r!==void 0){const i=Zr(j[h],r);return i===-1?void 0:Jr(j[h],i,1)[0]}return Zt(j[h])},t.removeHooks=function(h){j[h]=[]},t.removeAllHooks=function(){j=on()},t}var xo=Ln();function go({className:e,...t}){return n.jsx("textarea",{"data-slot":"textarea",className:gt("border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),...t})}function vo({selectedTicket:e}){var m,f,g,v,N,b;const t=Zn(),o=e?pt(e.status):null,[s,a]=c.useState(""),[l,u]=c.useState(!1),d=()=>{u(!0);const E={ticketId:(e==null?void 0:e.id)??"",details:s},T=new Promise((y,R)=>{fe.post(route("add.reply"),E,{preserveScroll:!0,onSuccess:()=>y(),onError:()=>R()})});Se.promise(T,{loading:"Adding reply...",success:"Reply added!",error:"Failed to add reply!",duration:5e3}),T.finally(()=>{u(!1),a("")})};return n.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Details"}),n.jsxs("div",{className:"flex min-h-100 flex-col justify-between rounded-md border border-gray-200 p-3 shadow-sm",children:[n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex flex-col gap-0",children:[o&&n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"font-bold",children:e.title}),n.jsx("span",{className:`rounded px-2 py-1 text-xs font-semibold ${o.className}`,children:o.label})]}),n.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n.jsxs(Wt,{className:"h-8 w-8 overflow-hidden rounded-md border",children:[((m=e.owner)==null?void 0:m.avatar)&&n.jsx($t,{src:`/storage/${(f=e.owner)==null?void 0:f.avatar}`,alt:(g=e.owner)==null?void 0:g.name}),n.jsx(Yt,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:t(((v=e.owner)==null?void 0:v.name)??"")})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-700",children:(N=e.owner)==null?void 0:N.name}),n.jsx("span",{className:"text-xs font-semibold text-gray-500",children:(b=e.owner)==null?void 0:b.email})]})]})]}),n.jsx("span",{className:"text-xs font-semibold text-gray-500",children:Kt(e.created_at)})]}),n.jsx(Te,{className:"bg-gray-300"}),n.jsx("div",{className:"rendered-content",children:n.jsx("span",{dangerouslySetInnerHTML:{__html:xo.sanitize(e.details)}})})]}),n.jsxs("div",{className:"flex flex-col gap-2",children:[n.jsx(Te,{className:"bg-gray-300"}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 px-1 text-xs font-medium text-gray-500",children:[n.jsx("div",{className:"cursor-pointer hover:underline",children:"Edit"}),n.jsx("div",{children:"•"}),n.jsx("div",{className:"cursor-pointer hover:underline",children:"Delete"}),(e.status==="open"||e.status==="on-going")&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"•"}),n.jsx("div",{className:"cursor-pointer hover:underline",children:"Reply"})]})]}),n.jsx("div",{className:"px-1 text-xs font-medium text-gray-500",children:e.ticket_number})]})]})]}),e.replies.length>0&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Replies"}),e.replies.map((E,T)=>{var y,R,A,_,x,w;return n.jsxs("div",{className:"rounded-md border border-gray-200 p-3 shadow-sm",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex flex-1 flex-col gap-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"flex flex-col gap-0",children:n.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n.jsxs(Wt,{className:"h-8 w-8 overflow-hidden rounded-md border",children:[((y=E.owner)==null?void 0:y.avatar)&&n.jsx($t,{src:`/storage/${(R=E.owner)==null?void 0:R.avatar}`,alt:(A=E.owner)==null?void 0:A.name}),n.jsx(Yt,{className:"rounded-lg bg-neutral-200 text-black dark:bg-neutral-700 dark:text-white",children:t(((_=E.owner)==null?void 0:_.name)??"")})]}),n.jsxs("div",{className:"flex flex-col",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-700",children:(x=E.owner)==null?void 0:x.name}),n.jsx("span",{className:"text-xs font-semibold text-gray-500",children:(w=E.owner)==null?void 0:w.email})]})]})}),n.jsx("span",{className:"text-xs font-semibold text-gray-500",children:Kt(E.created_at)})]}),n.jsx(Te,{className:"bg-gray-300"}),n.jsx("span",{children:E.details})]})}),n.jsxs("div",{className:"mt-2 flex flex-col gap-2",children:[n.jsx(Te,{className:"bg-gray-300"}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"flex items-center gap-2 px-1 text-xs font-medium text-gray-500",children:[n.jsx("div",{className:"cursor-pointer hover:underline",children:"Edit"}),n.jsx("div",{children:"•"}),n.jsx("div",{className:"cursor-pointer hover:underline",children:"Delete"}),(e.status==="open"||e.status==="on-going")&&n.jsxs(n.Fragment,{children:[n.jsx("div",{children:"•"}),n.jsx("div",{className:"cursor-pointer hover:underline",children:"Reply"})]})]})})]})]},T)})]}),(e.status==="open"||e.status==="on-going")&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-gray-500",children:"New Reply"}),n.jsxs("div",{className:"flex flex-col gap-2 rounded-md border border-gray-200 p-3 shadow-sm",children:[n.jsx(go,{value:s,onChange:E=>a(E.target.value)}),n.jsx("div",{className:"flex justify-end",children:n.jsxs(Re,{variant:"success",size:"sm",onClick:d,disabled:l,children:[n.jsx(Jn,{}),"Submit Reply"]})})]})]})]})}function bo(e){return e.replace(/<\/?[^>]+(>|$)/g,"")}function sn(e,t){const o=bo(e);return o.length>t?o.substring(0,t)+"...":o}function Eo({tickets:e,statusCounts:t,selectedTicket:o}){const s=new URLSearchParams(window.location.search).get("filterBy");return n.jsxs("div",{className:"flex w-80 flex-col gap-2",children:[n.jsx("div",{className:"text-sm text-gray-500",children:"Filter"}),n.jsxs("div",{className:"flex items-center gap-2",children:[t.open>0?n.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-yellow-400 px-2 py-0.5",children:[n.jsxs(J,{href:"/?filterBy=open",className:"text-xs font-semibold text-black",preserveScroll:!0,children:["Open (",t.open??0,")"]}),s==="open"&&n.jsx(J,{className:"cursor-pointer",href:"/",children:n.jsx(ke,{size:16})})]}):n.jsxs("span",{className:"rounded border bg-yellow-400 px-2 py-0.5 text-xs font-semibold text-black",children:["Open (",t.open??0,")"]}),t["on-going"]>0?n.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-blue-500 px-2 py-0.5",children:[n.jsxs(J,{href:"/?filterBy=on-going",className:"text-xs font-semibold text-white",preserveScroll:!0,children:["On-Going (",t["on-going"]??0,")"]}),s==="on-going"&&n.jsx(J,{className:"cursor-pointer",href:"/",children:n.jsx(ke,{size:16,color:"white"})})]}):n.jsxs("span",{className:"rounded bg-blue-500 px-2 py-0.5 text-xs font-semibold text-white",children:["On-Going (",t["on-going"]??0,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[t.resolved>0?n.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-green-700 px-2 py-0.5",children:[n.jsxs(J,{href:"/?filterBy=resolved",className:"text-xs font-semibold text-white",preserveScroll:!0,children:["Resolved (",t.resolved??0,")"]}),s==="resolved"&&n.jsx(J,{className:"cursor-pointer",href:"/",children:n.jsx(ke,{size:16,color:"white"})})]}):n.jsxs("span",{className:"rounded bg-green-700 px-2 py-0.5 text-xs font-semibold text-white",children:["Resolved (",t.resolved??0,")"]}),t.rejected>0?n.jsxs("div",{className:"flex items-center justify-between gap-2 rounded border bg-red-600 px-2 py-0.5",children:[n.jsxs(J,{href:"/?filterBy=rejected",className:"text-xs font-semibold text-white",preserveScroll:!0,children:["Rejected (",t.rejected??0,")"]}),s==="rejected"&&n.jsx(J,{className:"cursor-pointer",href:"/",children:n.jsx(ke,{size:16,color:"white"})})]}):n.jsxs("span",{className:"rounded bg-red-600 px-2 py-0.5 text-xs font-semibold text-white",children:["Rejected (",t.rejected??0,")"]})]}),n.jsx("div",{className:"text-sm text-gray-500",children:"Tickets"}),n.jsx("div",{className:"flex max-h-500 flex-col gap-2 overflow-auto rounded-md border border-gray-200 p-2 shadow-sm",children:e.map((a,l)=>{var d,m;const u=(o==null?void 0:o.id)===a.id;return n.jsx(J,{href:`?ticketId=${a.id}`,preserveScroll:!0,className:`block cursor-pointer rounded-md transition-all ${u?"bg-[#2A5298] text-white hover:bg-[#19335e]":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:n.jsxs("div",{className:"flex flex-col gap-1",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 px-2 pt-2",children:[n.jsxs("span",{className:`text-xs font-bold ${u?"text-white":"text-gray-600"}`,children:["TICKET #",a.ticket_number]}),n.jsx("span",{className:`${pt(a.status).className} rounded px-1 py-0 text-xs font-semibold`,children:pt(a.status).label})]}),n.jsx("span",{className:`px-2 text-sm font-bold ${u?"text-white":"text-[#242424]"}`,children:sn(a.title,15)}),n.jsx("span",{className:`px-2 text-sm ${u?"font-bold text-white":"text-[#242424]"}`,children:sn(a.details,100)}),n.jsx(Te,{className:"bg-gray-400"}),n.jsx("div",{className:"flex items-center justify-between px-2 pt-1 pb-2",children:n.jsxs("span",{className:`text-xs font-semibold break-all whitespace-pre-line ${u?"text-white":"text-gray-600"}`,children:[(d=a.owner)==null?void 0:d.name," • ",(m=a.owner)==null?void 0:m.email]})})]})},l)})})]})}function Oo({tickets:e,selectedTicket:t,modeOfAddressings:o,statusCounts:s,users:a}){const{isClientRoute:l,auth:u}=$n().props,d=u.is_admin;return n.jsx(n.Fragment,{children:n.jsxs(Qn,{isClientRoute:l,children:[n.jsx(Yn,{title:"Tickets"}),n.jsxs("div",{className:"px-4 py-6",children:[n.jsx("div",{className:"pb-2",children:n.jsxs(Re,{variant:"success",onClick:()=>fe.visit(route("create.ticket"),{preserveScroll:!0}),children:[n.jsx(er,{}),"Create Ticket"]})}),e.length>0?n.jsxs("div",{className:"flex gap-4",children:[n.jsx(Eo,{tickets:e,statusCounts:s,selectedTicket:t}),t?n.jsxs(n.Fragment,{children:[n.jsx(vo,{selectedTicket:t}),d&&n.jsx(Vr,{selectedTicket:t,modeOfAddressings:o,users:a})]}):n.jsx("div",{className:"mx-auto flex w-[50%] py-50 text-center text-sm font-medium text-gray-500",children:"📩 Select a ticket on the left to view its details here. We're excited to help you out! 💬"})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center text-gray-500",children:[n.jsx("div",{className:"mb-2 text-4xl",children:"📭"}),n.jsx("div",{className:"text-sm font-medium md:text-base",children:"No tickets yet in the system."}),n.jsx("div",{className:"mt-1 text-xs text-gray-400",children:"All caught up for now — new tickets will appear here."})]})]})]})})}export{Oo as default};
