import{r as s,j as a,R as et,K as Bt,m as Kt,L as Vt}from"./app-PAcH8mEI.js";import{A as Ht,H as Gt}from"./app-layout-CYRkYMMk.js";import{I as L}from"./input-error-DhixQXJ9.js";import{c as G,B as $e}from"./app-logo-icon-C1GCiWs0.js";import{C as Ue}from"./checkbox-D2uzdcW9.js";import{c as ae,R as qt,P as Yt,O as Xt,C as Zt,S as Jt,d as Qt,o as en,s as tn,f as nn,e as rn,g as on,h as sn,l as an,i as ln,j as cn,k as dn,m as un,n as fn,p as pn,q as mn,t as hn}from"./app-header-layout-0fU0bezq.js";import{P as X,c as me,r as vn,R as xn}from"./index-DQ1IlWpQ.js";import{I as re}from"./input-DocUmPqS.js";import{S as gn}from"./scroll-area-Bc_avh2H.js";import{S as bn}from"./switch-ccY8m7JO.js";import{f as yn}from"./dateHelper-DeSP8uTY.js";import{C as We}from"./index-ClCDInp8.js";import{z as En}from"./transition-DL3S_QgM.js";/* empty css            */var ze=1,wn=.9,Cn=.8,Nn=.17,we=.1,Ce=.999,Pn=.9999,jn=.99,Sn=/[\\\/_+.#"@\[\(\{&]/,An=/[\\\/_+.#"@\[\(\{&]/g,Rn=/[\s-]/,tt=/[\s-]/g;function Ae(e,t,n,r,o,i,d){if(i===t.length)return o===e.length?ze:jn;var l=`${o},${i}`;if(d[l]!==void 0)return d[l];for(var u=r.charAt(i),c=n.indexOf(u,o),m=0,v,h,g,N;c>=0;)v=Ae(e,t,n,r,c+1,i+1,d),v>m&&(c===o?v*=ze:Sn.test(e.charAt(c-1))?(v*=Cn,g=e.slice(o,c-1).match(An),g&&o>0&&(v*=Math.pow(Ce,g.length))):Rn.test(e.charAt(c-1))?(v*=wn,N=e.slice(o,c-1).match(tt),N&&o>0&&(v*=Math.pow(Ce,N.length))):(v*=Nn,o>0&&(v*=Math.pow(Ce,c-o))),e.charAt(c)!==t.charAt(i)&&(v*=Pn)),(v<we&&n.charAt(c-1)===r.charAt(i+1)||r.charAt(i+1)===r.charAt(i)&&n.charAt(c-1)!==r.charAt(i))&&(h=Ae(e,t,n,r,c+1,i+2,d),h*we>v&&(v=h*we)),v>m&&(m=v),c=n.indexOf(u,c+1);return d[l]=m,m}function Be(e){return e.toLowerCase().replace(tt," ")}function On(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Ae(e,t,Be(e),Be(t),0,0,{})}var pe='[cmdk-group=""]',Ne='[cmdk-group-items=""]',In='[cmdk-group-heading=""]',nt='[cmdk-item=""]',Ke=`${nt}:not([aria-disabled="true"])`,Re="cmdk-item-select",oe="data-value",_n=(e,t,n)=>On(e,t,n),rt=s.createContext(void 0),he=()=>s.useContext(rt),ot=s.createContext(void 0),Ie=()=>s.useContext(ot),st=s.createContext(void 0),at=s.forwardRef((e,t)=>{let n=se(()=>{var f,y;return{search:"",value:(y=(f=e.value)!=null?f:e.defaultValue)!=null?y:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=se(()=>new Set),o=se(()=>new Map),i=se(()=>new Map),d=se(()=>new Set),l=it(e),{label:u,children:c,value:m,onValueChange:v,filter:h,shouldFilter:g,loop:N,disablePointerSelection:b=!1,vimBindings:j=!0,...E}=e,O=ae(),I=ae(),R=ae(),M=s.useRef(null),C=Bn();ne(()=>{if(m!==void 0){let f=m.trim();n.current.value=f,p.emit()}},[m]),ne(()=>{C(6,Q)},[]);let p=s.useMemo(()=>({subscribe:f=>(d.current.add(f),()=>d.current.delete(f)),snapshot:()=>n.current,setState:(f,y,w)=>{var x,P,A,T;if(!Object.is(n.current[f],y)){if(n.current[f]=y,f==="search")J(),F(),C(1,D);else if(f==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let k=document.getElementById(R);k?k.focus():(x=document.getElementById(O))==null||x.focus()}if(C(7,()=>{var k;n.current.selectedItemId=(k=z())==null?void 0:k.id,p.emit()}),w||C(5,Q),((P=l.current)==null?void 0:P.value)!==void 0){let k=y??"";(T=(A=l.current).onValueChange)==null||T.call(A,k);return}}p.emit()}},emit:()=>{d.current.forEach(f=>f())}}),[]),S=s.useMemo(()=>({value:(f,y,w)=>{var x;y!==((x=i.current.get(f))==null?void 0:x.value)&&(i.current.set(f,{value:y,keywords:w}),n.current.filtered.items.set(f,_(y,w)),C(2,()=>{F(),p.emit()}))},item:(f,y)=>(r.current.add(f),y&&(o.current.has(y)?o.current.get(y).add(f):o.current.set(y,new Set([f]))),C(3,()=>{J(),F(),n.current.value||D(),p.emit()}),()=>{i.current.delete(f),r.current.delete(f),n.current.filtered.items.delete(f);let w=z();C(4,()=>{J(),(w==null?void 0:w.getAttribute("id"))===f&&D(),p.emit()})}),group:f=>(o.current.has(f)||o.current.set(f,new Set),()=>{i.current.delete(f),o.current.delete(f)}),filter:()=>l.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>l.current.disablePointerSelection,listId:O,inputId:R,labelId:I,listInnerRef:M}),[]);function _(f,y){var w,x;let P=(x=(w=l.current)==null?void 0:w.filter)!=null?x:_n;return f?P(f,n.current.search,y):0}function F(){if(!n.current.search||l.current.shouldFilter===!1)return;let f=n.current.filtered.items,y=[];n.current.filtered.groups.forEach(x=>{let P=o.current.get(x),A=0;P.forEach(T=>{let k=f.get(T);A=Math.max(k,A)}),y.push([x,A])});let w=M.current;B().sort((x,P)=>{var A,T;let k=x.getAttribute("id"),te=P.getAttribute("id");return((A=f.get(te))!=null?A:0)-((T=f.get(k))!=null?T:0)}).forEach(x=>{let P=x.closest(Ne);P?P.appendChild(x.parentElement===P?x:x.closest(`${Ne} > *`)):w.appendChild(x.parentElement===w?x:x.closest(`${Ne} > *`))}),y.sort((x,P)=>P[1]-x[1]).forEach(x=>{var P;let A=(P=M.current)==null?void 0:P.querySelector(`${pe}[${oe}="${encodeURIComponent(x[0])}"]`);A==null||A.parentElement.appendChild(A)})}function D(){let f=B().find(w=>w.getAttribute("aria-disabled")!=="true"),y=f==null?void 0:f.getAttribute(oe);p.setState("value",y||void 0)}function J(){var f,y,w,x;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let P=0;for(let A of r.current){let T=(y=(f=i.current.get(A))==null?void 0:f.value)!=null?y:"",k=(x=(w=i.current.get(A))==null?void 0:w.keywords)!=null?x:[],te=_(T,k);n.current.filtered.items.set(A,te),te>0&&P++}for(let[A,T]of o.current)for(let k of T)if(n.current.filtered.items.get(k)>0){n.current.filtered.groups.add(A);break}n.current.filtered.count=P}function Q(){var f,y,w;let x=z();x&&(((f=x.parentElement)==null?void 0:f.firstChild)===x&&((w=(y=x.closest(pe))==null?void 0:y.querySelector(In))==null||w.scrollIntoView({block:"nearest"})),x.scrollIntoView({block:"nearest"}))}function z(){var f;return(f=M.current)==null?void 0:f.querySelector(`${nt}[aria-selected="true"]`)}function B(){var f;return Array.from(((f=M.current)==null?void 0:f.querySelectorAll(Ke))||[])}function de(f){let y=B()[f];y&&p.setState("value",y.getAttribute(oe))}function K(f){var y;let w=z(),x=B(),P=x.findIndex(T=>T===w),A=x[P+f];(y=l.current)!=null&&y.loop&&(A=P+f<0?x[x.length-1]:P+f===x.length?x[0]:x[P+f]),A&&p.setState("value",A.getAttribute(oe))}function $(f){let y=z(),w=y==null?void 0:y.closest(pe),x;for(;w&&!x;)w=f>0?Wn(w,pe):zn(w,pe),x=w==null?void 0:w.querySelector(Ke);x?p.setState("value",x.getAttribute(oe)):K(f)}let ue=()=>de(B().length-1),xe=f=>{f.preventDefault(),f.metaKey?ue():f.altKey?$(1):K(1)},ee=f=>{f.preventDefault(),f.metaKey?de(0):f.altKey?$(-1):K(-1)};return s.createElement(X.div,{ref:t,tabIndex:-1,...E,"cmdk-root":"",onKeyDown:f=>{var y;(y=E.onKeyDown)==null||y.call(E,f);let w=f.nativeEvent.isComposing||f.keyCode===229;if(!(f.defaultPrevented||w))switch(f.key){case"n":case"j":{j&&f.ctrlKey&&xe(f);break}case"ArrowDown":{xe(f);break}case"p":case"k":{j&&f.ctrlKey&&ee(f);break}case"ArrowUp":{ee(f);break}case"Home":{f.preventDefault(),de(0);break}case"End":{f.preventDefault(),ue();break}case"Enter":{f.preventDefault();let x=z();if(x){let P=new Event(Re);x.dispatchEvent(P)}}}}},s.createElement("label",{"cmdk-label":"",htmlFor:S.inputId,id:S.labelId,style:Vn},u),ye(e,f=>s.createElement(ot.Provider,{value:p},s.createElement(rt.Provider,{value:S},f))))}),kn=s.forwardRef((e,t)=>{var n,r;let o=ae(),i=s.useRef(null),d=s.useContext(st),l=he(),u=it(e),c=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:d==null?void 0:d.forceMount;ne(()=>{if(!c)return l.item(o,d==null?void 0:d.id)},[c]);let m=lt(o,i,[e.value,e.children,i],e.keywords),v=Ie(),h=q(C=>C.value&&C.value===m.current),g=q(C=>c||l.filter()===!1?!0:C.search?C.filtered.items.get(o)>0:!0);s.useEffect(()=>{let C=i.current;if(!(!C||e.disabled))return C.addEventListener(Re,N),()=>C.removeEventListener(Re,N)},[g,e.onSelect,e.disabled]);function N(){var C,p;b(),(p=(C=u.current).onSelect)==null||p.call(C,m.current)}function b(){v.setState("value",m.current,!0)}if(!g)return null;let{disabled:j,value:E,onSelect:O,forceMount:I,keywords:R,...M}=e;return s.createElement(X.div,{ref:me(i,t),...M,id:o,"cmdk-item":"",role:"option","aria-disabled":!!j,"aria-selected":!!h,"data-disabled":!!j,"data-selected":!!h,onPointerMove:j||l.getDisablePointerSelection()?void 0:b,onClick:j?void 0:N},e.children)}),Mn=s.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:o,...i}=e,d=ae(),l=s.useRef(null),u=s.useRef(null),c=ae(),m=he(),v=q(g=>o||m.filter()===!1?!0:g.search?g.filtered.groups.has(d):!0);ne(()=>m.group(d),[]),lt(d,l,[e.value,e.heading,u]);let h=s.useMemo(()=>({id:d,forceMount:o}),[o]);return s.createElement(X.div,{ref:me(l,t),...i,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},n&&s.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),ye(e,g=>s.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},s.createElement(st.Provider,{value:h},g))))}),Tn=s.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,o=s.useRef(null),i=q(d=>!d.search);return!n&&!i?null:s.createElement(X.div,{ref:me(o,t),...r,"cmdk-separator":"",role:"separator"})}),Fn=s.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,o=e.value!=null,i=Ie(),d=q(c=>c.search),l=q(c=>c.selectedItemId),u=he();return s.useEffect(()=>{e.value!=null&&i.setState("search",e.value)},[e.value]),s.createElement(X.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":l,id:u.inputId,type:"text",value:o?e.value:d,onChange:c=>{o||i.setState("search",c.target.value),n==null||n(c.target.value)}})}),Dn=s.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...o}=e,i=s.useRef(null),d=s.useRef(null),l=q(c=>c.selectedItemId),u=he();return s.useEffect(()=>{if(d.current&&i.current){let c=d.current,m=i.current,v,h=new ResizeObserver(()=>{v=requestAnimationFrame(()=>{let g=c.offsetHeight;m.style.setProperty("--cmdk-list-height",g.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(v),h.unobserve(c)}}},[]),s.createElement(X.div,{ref:me(i,t),...o,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":l,"aria-label":r,id:u.listId},ye(e,c=>s.createElement("div",{ref:me(d,u.listInnerRef),"cmdk-list-sizer":""},c)))}),Ln=s.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:o,contentClassName:i,container:d,...l}=e;return s.createElement(qt,{open:n,onOpenChange:r},s.createElement(Yt,{container:d},s.createElement(Xt,{"cmdk-overlay":"",className:o}),s.createElement(Zt,{"aria-label":e.label,"cmdk-dialog":"",className:i},s.createElement(at,{ref:t,...l}))))}),$n=s.forwardRef((e,t)=>q(n=>n.filtered.count===0)?s.createElement(X.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Un=s.forwardRef((e,t)=>{let{progress:n,children:r,label:o="Loading...",...i}=e;return s.createElement(X.div,{ref:t,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":o},ye(e,d=>s.createElement("div",{"aria-hidden":!0},d)))}),ce=Object.assign(at,{List:Dn,Item:kn,Input:Fn,Group:Mn,Separator:Tn,Dialog:Ln,Empty:$n,Loading:Un});function Wn(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function zn(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function it(e){let t=s.useRef(e);return ne(()=>{t.current=e}),t}var ne=typeof window>"u"?s.useEffect:s.useLayoutEffect;function se(e){let t=s.useRef();return t.current===void 0&&(t.current=e()),t}function q(e){let t=Ie(),n=()=>e(t.snapshot());return s.useSyncExternalStore(t.subscribe,n,n)}function lt(e,t,n,r=[]){let o=s.useRef(),i=he();return ne(()=>{var d;let l=(()=>{var c;for(let m of n){if(typeof m=="string")return m.trim();if(typeof m=="object"&&"current"in m)return m.current?(c=m.current.textContent)==null?void 0:c.trim():o.current}})(),u=r.map(c=>c.trim());i.value(e,l,u),(d=t.current)==null||d.setAttribute(oe,l),o.current=l}),o}var Bn=()=>{let[e,t]=s.useState(),n=se(()=>new Map);return ne(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,o)=>{n.current.set(r,o),t({})}};function Kn(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function ye({asChild:e,children:t},n){return e&&s.isValidElement(t)?s.cloneElement(Kn(t),{ref:t.ref},n(t.props.children)):n(t)}var Vn={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function Hn({className:e,...t}){return a.jsx(ce,{"data-slot":"command",className:G("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Gn({className:e,...t}){return a.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[a.jsx(Jt,{className:"size-4 shrink-0 opacity-50"}),a.jsx(ce.Input,{"data-slot":"command-input",className:G("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function qn({className:e,...t}){return a.jsx(ce.List,{"data-slot":"command-list",className:G("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function Yn({...e}){return a.jsx(ce.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Xn({className:e,...t}){return a.jsx(ce.Group,{"data-slot":"command-group",className:G("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Ve({className:e,...t}){return a.jsx(ce.Item,{"data-slot":"command-item",className:G("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}function H(e,t,{checkForDefaultPrevented:n=!0}={}){return function(o){if(e==null||e(o),n===!1||!o.defaultPrevented)return t==null?void 0:t(o)}}function He(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Zn(...e){return t=>{let n=!1;const r=e.map(o=>{const i=He(o,t);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let o=0;o<r.length;o++){const i=r[o];typeof i=="function"?i():He(e[o],null)}}}}function U(...e){return s.useCallback(Zn(...e),e)}function ct(e,t=[]){let n=[];function r(i,d){const l=s.createContext(d),u=n.length;n=[...n,d];const c=v=>{var E;const{scope:h,children:g,...N}=v,b=((E=h==null?void 0:h[e])==null?void 0:E[u])||l,j=s.useMemo(()=>N,Object.values(N));return a.jsx(b.Provider,{value:j,children:g})};c.displayName=i+"Provider";function m(v,h){var b;const g=((b=h==null?void 0:h[e])==null?void 0:b[u])||l,N=s.useContext(g);if(N)return N;if(d!==void 0)return d;throw new Error(`\`${v}\` must be used within \`${i}\``)}return[c,m]}const o=()=>{const i=n.map(d=>s.createContext(d));return function(l){const u=(l==null?void 0:l[e])||i;return s.useMemo(()=>({[`__scope${e}`]:{...l,[e]:u}}),[l,u])}};return o.scopeName=e,[r,Jn(o,...t)]}function Jn(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const d=r.reduce((l,{useScope:u,scopeName:c})=>{const v=u(i)[`__scope${c}`];return{...l,...v}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:d}),[d])}};return n.scopeName=t.scopeName,n}function dt(e){const t=Qn(e),n=s.forwardRef((r,o)=>{const{children:i,...d}=r,l=s.Children.toArray(i),u=l.find(tr);if(u){const c=u.props.children,m=l.map(v=>v===u?s.Children.count(c)>1?s.Children.only(null):s.isValidElement(c)?c.props.children:null:v);return a.jsx(t,{...d,ref:o,children:s.isValidElement(c)?s.cloneElement(c,void 0,m):null})}return a.jsx(t,{...d,ref:o,children:i})});return n.displayName=`${e}.Slot`,n}function Qn(e){const t=s.forwardRef((n,r)=>{const{children:o,...i}=n,d=s.isValidElement(o)?rr(o):void 0,l=U(d,r);if(s.isValidElement(o)){const u=nr(i,o.props);return o.type!==s.Fragment&&(u.ref=l),s.cloneElement(o,u)}return s.Children.count(o)>1?s.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var er=Symbol("radix.slottable");function tr(e){return s.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===er}function nr(e,t){const n={...t};for(const r in t){const o=e[r],i=t[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...l)=>{const u=i(...l);return o(...l),u}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...e,...n}}function rr(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var or=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],W=or.reduce((e,t)=>{const n=dt(`Primitive.${t}`),r=s.forwardRef((o,i)=>{const{asChild:d,...l}=o,u=d?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(u,{...l,ref:i})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function sr(e,t){e&&vn.flushSync(()=>e.dispatchEvent(t))}function ie(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ar(e,t=globalThis==null?void 0:globalThis.document){const n=ie(e);s.useEffect(()=>{const r=o=>{o.key==="Escape"&&n(o)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var ir="DismissableLayer",Oe="dismissableLayer.update",lr="dismissableLayer.pointerDownOutside",cr="dismissableLayer.focusOutside",Ge,ut=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ft=s.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:i,onInteractOutside:d,onDismiss:l,...u}=e,c=s.useContext(ut),[m,v]=s.useState(null),h=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=s.useState({}),N=U(t,p=>v(p)),b=Array.from(c.layers),[j]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),E=b.indexOf(j),O=m?b.indexOf(m):-1,I=c.layersWithOutsidePointerEventsDisabled.size>0,R=O>=E,M=fr(p=>{const S=p.target,_=[...c.branches].some(F=>F.contains(S));!R||_||(o==null||o(p),d==null||d(p),p.defaultPrevented||l==null||l())},h),C=pr(p=>{const S=p.target;[...c.branches].some(F=>F.contains(S))||(i==null||i(p),d==null||d(p),p.defaultPrevented||l==null||l())},h);return ar(p=>{O===c.layers.size-1&&(r==null||r(p),!p.defaultPrevented&&l&&(p.preventDefault(),l()))},h),s.useEffect(()=>{if(m)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Ge=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(m)),c.layers.add(m),qe(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Ge)}},[m,h,n,c]),s.useEffect(()=>()=>{m&&(c.layers.delete(m),c.layersWithOutsidePointerEventsDisabled.delete(m),qe())},[m,c]),s.useEffect(()=>{const p=()=>g({});return document.addEventListener(Oe,p),()=>document.removeEventListener(Oe,p)},[]),a.jsx(W.div,{...u,ref:N,style:{pointerEvents:I?R?"auto":"none":void 0,...e.style},onFocusCapture:H(e.onFocusCapture,C.onFocusCapture),onBlurCapture:H(e.onBlurCapture,C.onBlurCapture),onPointerDownCapture:H(e.onPointerDownCapture,M.onPointerDownCapture)})});ft.displayName=ir;var dr="DismissableLayerBranch",ur=s.forwardRef((e,t)=>{const n=s.useContext(ut),r=s.useRef(null),o=U(t,r);return s.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),a.jsx(W.div,{...e,ref:o})});ur.displayName=dr;function fr(e,t=globalThis==null?void 0:globalThis.document){const n=ie(e),r=s.useRef(!1),o=s.useRef(()=>{});return s.useEffect(()=>{const i=l=>{if(l.target&&!r.current){let u=function(){pt(lr,n,c,{discrete:!0})};const c={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",o.current),o.current=u,t.addEventListener("click",o.current,{once:!0})):u()}else t.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(d),t.removeEventListener("pointerdown",i),t.removeEventListener("click",o.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function pr(e,t=globalThis==null?void 0:globalThis.document){const n=ie(e),r=s.useRef(!1);return s.useEffect(()=>{const o=i=>{i.target&&!r.current&&pt(cr,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",o),()=>t.removeEventListener("focusin",o)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function qe(){const e=new CustomEvent(Oe);document.dispatchEvent(e)}function pt(e,t,n,{discrete:r}){const o=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&o.addEventListener(e,t,{once:!0}),r?sr(o,i):o.dispatchEvent(i)}var Pe=0;function mr(){s.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Ye()),document.body.insertAdjacentElement("beforeend",e[1]??Ye()),Pe++,()=>{Pe===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Pe--}},[])}function Ye(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var je="focusScope.autoFocusOnMount",Se="focusScope.autoFocusOnUnmount",Xe={bubbles:!1,cancelable:!0},hr="FocusScope",mt=s.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:i,...d}=e,[l,u]=s.useState(null),c=ie(o),m=ie(i),v=s.useRef(null),h=U(t,b=>u(b)),g=s.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;s.useEffect(()=>{if(r){let b=function(I){if(g.paused||!l)return;const R=I.target;l.contains(R)?v.current=R:V(v.current,{select:!0})},j=function(I){if(g.paused||!l)return;const R=I.relatedTarget;R!==null&&(l.contains(R)||V(v.current,{select:!0}))},E=function(I){if(document.activeElement===document.body)for(const M of I)M.removedNodes.length>0&&V(l)};document.addEventListener("focusin",b),document.addEventListener("focusout",j);const O=new MutationObserver(E);return l&&O.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",b),document.removeEventListener("focusout",j),O.disconnect()}}},[r,l,g.paused]),s.useEffect(()=>{if(l){Je.add(g);const b=document.activeElement;if(!l.contains(b)){const E=new CustomEvent(je,Xe);l.addEventListener(je,c),l.dispatchEvent(E),E.defaultPrevented||(vr(Er(ht(l)),{select:!0}),document.activeElement===b&&V(l))}return()=>{l.removeEventListener(je,c),setTimeout(()=>{const E=new CustomEvent(Se,Xe);l.addEventListener(Se,m),l.dispatchEvent(E),E.defaultPrevented||V(b??document.body,{select:!0}),l.removeEventListener(Se,m),Je.remove(g)},0)}}},[l,c,m,g]);const N=s.useCallback(b=>{if(!n&&!r||g.paused)return;const j=b.key==="Tab"&&!b.altKey&&!b.ctrlKey&&!b.metaKey,E=document.activeElement;if(j&&E){const O=b.currentTarget,[I,R]=xr(O);I&&R?!b.shiftKey&&E===R?(b.preventDefault(),n&&V(I,{select:!0})):b.shiftKey&&E===I&&(b.preventDefault(),n&&V(R,{select:!0})):E===O&&b.preventDefault()}},[n,r,g.paused]);return a.jsx(W.div,{tabIndex:-1,...d,ref:h,onKeyDown:N})});mt.displayName=hr;function vr(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(V(r,{select:t}),document.activeElement!==n)return}function xr(e){const t=ht(e),n=Ze(t,e),r=Ze(t.reverse(),e);return[n,r]}function ht(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Ze(e,t){for(const n of e)if(!gr(n,{upTo:t}))return n}function gr(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function br(e){return e instanceof HTMLInputElement&&"select"in e}function V(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&br(e)&&t&&e.select()}}var Je=yr();function yr(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Qe(e,t),e.unshift(t)},remove(t){var n;e=Qe(e,t),(n=e[0])==null||n.resume()}}}function Qe(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function Er(e){return e.filter(t=>t.tagName!=="A")}var Y=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},wr=et[" useId ".trim().toString()]||(()=>{}),Cr=0;function Nr(e){const[t,n]=s.useState(wr());return Y(()=>{n(r=>r??String(Cr++))},[e]),e||(t?`radix-${t}`:"")}var Pr="Arrow",vt=s.forwardRef((e,t)=>{const{children:n,width:r=10,height:o=5,...i}=e;return a.jsx(W.svg,{...i,ref:t,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});vt.displayName=Pr;var jr=vt;function Sr(e){const[t,n]=s.useState(void 0);return Y(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const i=o[0];let d,l;if("borderBoxSize"in i){const u=i.borderBoxSize,c=Array.isArray(u)?u[0]:u;d=c.inlineSize,l=c.blockSize}else d=e.offsetWidth,l=e.offsetHeight;n({width:d,height:l})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var _e="Popper",[xt,gt]=ct(_e),[Ar,bt]=xt(_e),yt=e=>{const{__scopePopper:t,children:n}=e,[r,o]=s.useState(null);return a.jsx(Ar,{scope:t,anchor:r,onAnchorChange:o,children:n})};yt.displayName=_e;var Et="PopperAnchor",wt=s.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...o}=e,i=bt(Et,n),d=s.useRef(null),l=U(t,d);return s.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||d.current)}),r?null:a.jsx(W.div,{...o,ref:l})});wt.displayName=Et;var ke="PopperContent",[Rr,Or]=xt(ke),Ct=s.forwardRef((e,t)=>{var A,T,k,te,Fe,De;const{__scopePopper:n,side:r="bottom",sideOffset:o=0,align:i="center",alignOffset:d=0,arrowPadding:l=0,avoidCollisions:u=!0,collisionBoundary:c=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:h=!1,updatePositionStrategy:g="optimized",onPlaced:N,...b}=e,j=bt(ke,n),[E,O]=s.useState(null),I=U(t,fe=>O(fe)),[R,M]=s.useState(null),C=Sr(R),p=(C==null?void 0:C.width)??0,S=(C==null?void 0:C.height)??0,_=r+(i!=="center"?"-"+i:""),F=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},D=Array.isArray(c)?c:[c],J=D.length>0,Q={padding:F,boundary:D.filter(_r),altBoundary:J},{refs:z,floatingStyles:B,placement:de,isPositioned:K,middlewareData:$}=Qt({strategy:"fixed",placement:_,whileElementsMounted:(...fe)=>ln(...fe,{animationFrame:g==="always"}),elements:{reference:j.anchor},middleware:[en({mainAxis:o+S,alignmentAxis:d}),u&&tn({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?an():void 0,...Q}),u&&nn({...Q}),rn({...Q,apply:({elements:fe,rects:Le,availableWidth:$t,availableHeight:Ut})=>{const{width:Wt,height:zt}=Le.reference,ge=fe.floating.style;ge.setProperty("--radix-popper-available-width",`${$t}px`),ge.setProperty("--radix-popper-available-height",`${Ut}px`),ge.setProperty("--radix-popper-anchor-width",`${Wt}px`),ge.setProperty("--radix-popper-anchor-height",`${zt}px`)}}),R&&on({element:R,padding:l}),kr({arrowWidth:p,arrowHeight:S}),h&&sn({strategy:"referenceHidden",...Q})]}),[ue,xe]=jt(de),ee=ie(N);Y(()=>{K&&(ee==null||ee())},[K,ee]);const f=(A=$.arrow)==null?void 0:A.x,y=(T=$.arrow)==null?void 0:T.y,w=((k=$.arrow)==null?void 0:k.centerOffset)!==0,[x,P]=s.useState();return Y(()=>{E&&P(window.getComputedStyle(E).zIndex)},[E]),a.jsx("div",{ref:z.setFloating,"data-radix-popper-content-wrapper":"",style:{...B,transform:K?B.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:x,"--radix-popper-transform-origin":[(te=$.transformOrigin)==null?void 0:te.x,(Fe=$.transformOrigin)==null?void 0:Fe.y].join(" "),...((De=$.hide)==null?void 0:De.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:a.jsx(Rr,{scope:n,placedSide:ue,onArrowChange:M,arrowX:f,arrowY:y,shouldHideArrow:w,children:a.jsx(W.div,{"data-side":ue,"data-align":xe,...b,ref:I,style:{...b.style,animation:K?void 0:"none"}})})})});Ct.displayName=ke;var Nt="PopperArrow",Ir={top:"bottom",right:"left",bottom:"top",left:"right"},Pt=s.forwardRef(function(t,n){const{__scopePopper:r,...o}=t,i=Or(Nt,r),d=Ir[i.placedSide];return a.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:a.jsx(jr,{...o,ref:n,style:{...o.style,display:"block"}})})});Pt.displayName=Nt;function _r(e){return e!==null}var kr=e=>({name:"transformOrigin",options:e,fn(t){var j,E,O;const{placement:n,rects:r,middlewareData:o}=t,d=((j=o.arrow)==null?void 0:j.centerOffset)!==0,l=d?0:e.arrowWidth,u=d?0:e.arrowHeight,[c,m]=jt(n),v={start:"0%",center:"50%",end:"100%"}[m],h=(((E=o.arrow)==null?void 0:E.x)??0)+l/2,g=(((O=o.arrow)==null?void 0:O.y)??0)+u/2;let N="",b="";return c==="bottom"?(N=d?v:`${h}px`,b=`${-u}px`):c==="top"?(N=d?v:`${h}px`,b=`${r.floating.height+u}px`):c==="right"?(N=`${-u}px`,b=d?v:`${g}px`):c==="left"&&(N=`${r.floating.width+u}px`,b=d?v:`${g}px`),{data:{x:N,y:b}}}});function jt(e){const[t,n="center"]=e.split("-");return[t,n]}var Mr=yt,St=wt,Tr=Ct,Fr=Pt,Dr="Portal",At=s.forwardRef((e,t)=>{var l;const{container:n,...r}=e,[o,i]=s.useState(!1);Y(()=>i(!0),[]);const d=n||o&&((l=globalThis==null?void 0:globalThis.document)==null?void 0:l.body);return d?xn.createPortal(a.jsx(W.div,{...r,ref:t}),d):null});At.displayName=Dr;function Lr(e,t){return s.useReducer((n,r)=>t[n][r]??n,e)}var Me=e=>{const{present:t,children:n}=e,r=$r(t),o=typeof n=="function"?n({present:r.isPresent}):s.Children.only(n),i=U(r.ref,Ur(o));return typeof n=="function"||r.isPresent?s.cloneElement(o,{ref:i}):null};Me.displayName="Presence";function $r(e){const[t,n]=s.useState(),r=s.useRef(null),o=s.useRef(e),i=s.useRef("none"),d=e?"mounted":"unmounted",[l,u]=Lr(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return s.useEffect(()=>{const c=be(r.current);i.current=l==="mounted"?c:"none"},[l]),Y(()=>{const c=r.current,m=o.current;if(m!==e){const h=i.current,g=be(c);e?u("MOUNT"):g==="none"||(c==null?void 0:c.display)==="none"?u("UNMOUNT"):u(m&&h!==g?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,u]),Y(()=>{if(t){let c;const m=t.ownerDocument.defaultView??window,v=g=>{const b=be(r.current).includes(g.animationName);if(g.target===t&&b&&(u("ANIMATION_END"),!o.current)){const j=t.style.animationFillMode;t.style.animationFillMode="forwards",c=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=j)})}},h=g=>{g.target===t&&(i.current=be(r.current))};return t.addEventListener("animationstart",h),t.addEventListener("animationcancel",v),t.addEventListener("animationend",v),()=>{m.clearTimeout(c),t.removeEventListener("animationstart",h),t.removeEventListener("animationcancel",v),t.removeEventListener("animationend",v)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:s.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function be(e){return(e==null?void 0:e.animationName)||"none"}function Ur(e){var r,o;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(o=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:o.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Wr=et[" useInsertionEffect ".trim().toString()]||Y;function zr({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[o,i,d]=Br({defaultProp:t,onChange:n}),l=e!==void 0,u=l?e:o;{const m=s.useRef(e!==void 0);s.useEffect(()=>{const v=m.current;v!==l&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${l?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=l},[l,r])}const c=s.useCallback(m=>{var v;if(l){const h=Kr(m)?m(e):m;h!==e&&((v=d.current)==null||v.call(d,h))}else i(m)},[l,e,i,d]);return[u,c]}function Br({defaultProp:e,onChange:t}){const[n,r]=s.useState(e),o=s.useRef(n),i=s.useRef(t);return Wr(()=>{i.current=t},[t]),s.useEffect(()=>{var d;o.current!==n&&((d=i.current)==null||d.call(i,n),o.current=n)},[n,o]),[n,r,i]}function Kr(e){return typeof e=="function"}var Ee="Popover",[Rt,Co]=ct(Ee,[gt]),ve=gt(),[Vr,Z]=Rt(Ee),Ot=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:o,onOpenChange:i,modal:d=!1}=e,l=ve(t),u=s.useRef(null),[c,m]=s.useState(!1),[v,h]=zr({prop:r,defaultProp:o??!1,onChange:i,caller:Ee});return a.jsx(Mr,{...l,children:a.jsx(Vr,{scope:t,contentId:Nr(),triggerRef:u,open:v,onOpenChange:h,onOpenToggle:s.useCallback(()=>h(g=>!g),[h]),hasCustomAnchor:c,onCustomAnchorAdd:s.useCallback(()=>m(!0),[]),onCustomAnchorRemove:s.useCallback(()=>m(!1),[]),modal:d,children:n})})};Ot.displayName=Ee;var It="PopoverAnchor",Hr=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Z(It,n),i=ve(n),{onCustomAnchorAdd:d,onCustomAnchorRemove:l}=o;return s.useEffect(()=>(d(),()=>l()),[d,l]),a.jsx(St,{...i,...r,ref:t})});Hr.displayName=It;var _t="PopoverTrigger",kt=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Z(_t,n),i=ve(n),d=U(t,o.triggerRef),l=a.jsx(W.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Lt(o.open),...r,ref:d,onClick:H(e.onClick,o.onOpenToggle)});return o.hasCustomAnchor?l:a.jsx(St,{asChild:!0,...i,children:l})});kt.displayName=_t;var Te="PopoverPortal",[Gr,qr]=Rt(Te,{forceMount:void 0}),Mt=e=>{const{__scopePopover:t,forceMount:n,children:r,container:o}=e,i=Z(Te,t);return a.jsx(Gr,{scope:t,forceMount:n,children:a.jsx(Me,{present:n||i.open,children:a.jsx(At,{asChild:!0,container:o,children:r})})})};Mt.displayName=Te;var le="PopoverContent",Tt=s.forwardRef((e,t)=>{const n=qr(le,e.__scopePopover),{forceMount:r=n.forceMount,...o}=e,i=Z(le,e.__scopePopover);return a.jsx(Me,{present:r||i.open,children:i.modal?a.jsx(Xr,{...o,ref:t}):a.jsx(Zr,{...o,ref:t})})});Tt.displayName=le;var Yr=dt("PopoverContent.RemoveScroll"),Xr=s.forwardRef((e,t)=>{const n=Z(le,e.__scopePopover),r=s.useRef(null),o=U(t,r),i=s.useRef(!1);return s.useEffect(()=>{const d=r.current;if(d)return cn(d)},[]),a.jsx(dn,{as:Yr,allowPinchZoom:!0,children:a.jsx(Ft,{...e,ref:o,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:H(e.onCloseAutoFocus,d=>{var l;d.preventDefault(),i.current||(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:H(e.onPointerDownOutside,d=>{const l=d.detail.originalEvent,u=l.button===0&&l.ctrlKey===!0,c=l.button===2||u;i.current=c},{checkForDefaultPrevented:!1}),onFocusOutside:H(e.onFocusOutside,d=>d.preventDefault(),{checkForDefaultPrevented:!1})})})}),Zr=s.forwardRef((e,t)=>{const n=Z(le,e.__scopePopover),r=s.useRef(!1),o=s.useRef(!1);return a.jsx(Ft,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var d,l;(d=e.onCloseAutoFocus)==null||d.call(e,i),i.defaultPrevented||(r.current||(l=n.triggerRef.current)==null||l.focus(),i.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:i=>{var u,c;(u=e.onInteractOutside)==null||u.call(e,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=i.target;((c=n.triggerRef.current)==null?void 0:c.contains(d))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&o.current&&i.preventDefault()}})}),Ft=s.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:i,disableOutsidePointerEvents:d,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onInteractOutside:m,...v}=e,h=Z(le,n),g=ve(n);return mr(),a.jsx(mt,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:i,children:a.jsx(ft,{asChild:!0,disableOutsidePointerEvents:d,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:u,onFocusOutside:c,onDismiss:()=>h.onOpenChange(!1),children:a.jsx(Tr,{"data-state":Lt(h.open),role:"dialog",id:h.contentId,...g,...v,ref:t,style:{...v.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Dt="PopoverClose",Jr=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=Z(Dt,n);return a.jsx(W.button,{type:"button",...r,ref:t,onClick:H(e.onClick,()=>o.onOpenChange(!1))})});Jr.displayName=Dt;var Qr="PopoverArrow",eo=s.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,o=ve(n);return a.jsx(Fr,{...o,...r,ref:t})});eo.displayName=Qr;function Lt(e){return e?"open":"closed"}var to=Ot,no=kt,ro=Mt,oo=Tt;function so({...e}){return a.jsx(to,{"data-slot":"popover",...e})}function ao({...e}){return a.jsx(no,{"data-slot":"popover-trigger",...e})}function io({className:e,align:t="center",sideOffset:n=4,...r}){return a.jsx(ro,{children:a.jsx(oo,{"data-slot":"popover-content",align:t,sideOffset:n,className:G("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",e),...r})})}function No({module:e,modules:t,roles:n}){var C;const{canUpdate:r}=un(),{auth:o}=Bt().props,i=o.user.roles,d=[{title:"Modules",href:"/modules"},{title:e.name,href:`/modules/view/${e.id}`}],l=(p,S)=>{c(_=>{const F=S?[..._.rolesId,p]:_.rolesId.filter(D=>D!==p);return{..._,rolesId:F}})},{data:u,setData:c,post:m,processing:v,errors:h,recentlySuccessful:g}=Kt({icon:e.icon,order:e.order,name:e.name,description:e.description,parent_id:e.parent_id?e.parent_id:null,path:e.path,is_client:e.is_client,group_title:e.group_title,available_actions:e.available_actions,moduleId:e.id,rolesId:e.roles.map(p=>p.id)}),N=()=>{const p=new Promise((S,_)=>{m(route("modules.update-permissions"),{preserveScroll:!0,onSuccess:F=>{const D=F.props.flash;D!=null&&D.error?_(D.error):S()},onError:()=>{_("Failed to update module permissions")}})});hn.promise(p,{loading:"Updating module permissions...",success:"Module updated successfully!",error:S=>S,description:yn(new Date),descriptionClassName:"!text-gray-500",duration:5e3,classNames:{success:"!text-green-700",error:"!text-red-700",loading:"!text-blue-700"},position:"bottom-right"})},[b,j]=s.useState(!1),[E,O]=s.useState(u.parent_id??""),[I,R]=s.useState(""),M=fn(u.icon);return a.jsxs(Ht,{breadcrumbs:d,children:[a.jsx(Vt,{title:`Manage ${e.name} Module`}),a.jsxs("div",{className:"px-4 py-6",children:[a.jsx(Gt,{title:u.name,description:u.description}),a.jsxs("div",{className:"flex flex-col",children:[a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Name"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:a.jsx("span",{children:"Name of the module in the navigation bar. This is used to display the name of the module in the navigation bar."})}),a.jsx(L,{message:h.icon,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(re,{type:"text",className:"rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none disabled:opacity-100",defaultValue:u.name,onChange:p=>c("name",p.target.value),placeholder:"Name",name:"name",autoComplete:"name",disabled:!r("Modules")})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Description"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:a.jsx("span",{children:"Description of the module."})}),a.jsx(L,{message:h.icon,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(re,{type:"text",className:"rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none disabled:opacity-100",defaultValue:u.description,onChange:p=>c("description",p.target.value),placeholder:"Description",name:"description",autoComplete:"description",disabled:!r("Modules")})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Icon"}),a.jsxs("span",{className:"text-muted-foreground text-xs",children:[a.jsx("span",{children:"Icon of the module in the navigation bar. This is used to display the icon of the module in the navigation bar."}),a.jsx("a",{href:"https://lucide.dev/icons/",className:"ml-1",target:"_blank",rel:"noopener noreferrer",children:a.jsx("span",{className:"text-blue-500 underline",children:"Click here"})}),a.jsx("span",{className:"ml-1",children:"to see the available icons."})]}),a.jsx(L,{message:h.icon,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(re,{type:"text",className:"rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none disabled:opacity-100",defaultValue:u.icon,onChange:p=>c("icon",p.target.value),placeholder:"Icon",name:"icon",autoComplete:"icon",disabled:!r("Modules")})}),M&&a.jsx("div",{className:"my-auto flex h-8 w-12 items-center justify-center rounded border bg-gray-50",children:a.jsx(M,{size:16})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Order"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"Order of the module in the navigation bar"}),a.jsx(L,{message:h.order,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(re,{type:"number",className:"rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none disabled:opacity-100",defaultValue:u.order,onChange:p=>c("order",parseInt(p.target.value)),placeholder:"Order",name:"order",autoComplete:"order",disabled:!r("Modules")})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Parent Module"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"Parent module of the module in the navigation bar. This is used to group the modules in the navigation bar."}),a.jsx(L,{message:h.parent_id,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsxs(so,{open:b,onOpenChange:j,children:[a.jsx(ao,{asChild:!0,children:a.jsxs($e,{variant:"outline",role:"combobox","aria-expanded":b,className:"w-[215px] justify-between rounded-sm disabled:opacity-100",disabled:!r("Modules"),children:[E?(C=t.find(p=>p.id===E))==null?void 0:C.name:"Select parent module...",a.jsx(pn,{className:"opacity-50"})]})}),a.jsx(io,{className:"w-[215px] p-0",children:a.jsxs(Hn,{children:[a.jsx(Gn,{placeholder:"Search framework...",className:"h-9"}),a.jsxs(qn,{children:[a.jsx(Yn,{children:"No framework found."}),a.jsxs(Xn,{children:[a.jsxs(Ve,{value:"",onSelect:()=>{O(""),c("parent_id",null),j(!1)},children:[a.jsx("span",{className:"text-sm font-medium text-red-700",children:"No Parent Module"}),a.jsx(We,{className:G("ml-auto",E===""?"opacity-100":"opacity-0")})]}),t.map(p=>a.jsxs(Ve,{value:p.id,onSelect:S=>{const _=S===E?"":S;O(_),c("parent_id",_||null),j(!1)},children:[p.name,a.jsx(We,{className:G("ml-auto",E===p.id?"opacity-100":"opacity-0")})]},p.id))]})]})]})})]})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Path"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"Path of the module in the navigation bar. This is used to generate the URL for the module."}),a.jsx(L,{message:h.path,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(re,{type:"text",className:"rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none disabled:opacity-100",defaultValue:u.path??"",onChange:p=>c("path",p.target.value),placeholder:"Path",name:"path",autoComplete:"path",disabled:!r("Modules")})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Client Route"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"Determine if the module is a client route or not. This is used to generate the URL for the module in the client side."}),a.jsx(L,{message:h.is_client,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(bn,{id:"is_client-mode",checked:u.is_client,onCheckedChange:p=>c("is_client",!!p),disabled:!r("Modules")})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Group Title"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"Group title of the module in the navigation bar. This is used to group the modules in the navigation bar."}),a.jsx(L,{message:h.group_title,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx(re,{type:"text",className:"rounded border border-gray-300 px-2 py-1 text-sm focus:outline-none disabled:opacity-100",defaultValue:u.group_title,onChange:p=>c("group_title",p.target.value),placeholder:"Group Title",name:"group_title",autoComplete:"group_title",disabled:!r("Modules")})})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-t text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Roles"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"The roles that have access to this module."}),a.jsx(L,{message:h.rolesId,className:"mt-2 text-xs"})]}),a.jsxs("div",{className:"my-auto py-3",children:[a.jsx("input",{name:"role-search",type:"text",placeholder:"Search for role",className:"border-b text-xs focus:outline-none disabled:opacity-100",value:I,onChange:p=>R(p.target.value),disabled:!r("Users")}),a.jsx(gn,{className:"flex max-h-52 w-48 flex-col gap-2 rounded p-2",id:"roles",children:n.filter(p=>p.name.toLowerCase().includes(I.toLowerCase())).length>0?n.filter(p=>p.name.toLowerCase().includes(I.toLowerCase())).map(p=>a.jsxs("div",{className:"mb-1 flex items-center gap-2 text-sm font-medium",children:[a.jsx(Ue,{id:p.id,checked:u.rolesId.includes(p.id),onCheckedChange:S=>l(p.id,!!S),disabled:!p.for_admin||!r("Modules")||i.some(S=>S.id===p.id)}),a.jsx("label",{htmlFor:p.id,className:"text-sm leading-none font-medium peer-disabled:cursor-not-allowed peer-disabled:opacity-70",children:p.name})]},p.id)):a.jsx("p",{className:"text-muted-foreground text-xs italic",children:"No role found."})})]})]}),a.jsxs("div",{className:"flex items-stretch gap-3 border-y text-sm font-medium",children:[a.jsxs("div",{className:"flex w-100 flex-col gap-0 border-r py-3 pr-3",children:[a.jsx("span",{children:"Available Actions"}),a.jsx("span",{className:"text-muted-foreground text-xs",children:"The actions that are available for this module."}),a.jsx(L,{message:h.available_actions,className:"mt-2 text-xs"})]}),a.jsx("div",{className:"my-auto py-3",children:a.jsx("div",{className:"flex flex-col gap-2",children:mn.map(p=>{const S=`action-${p}`,_=u.available_actions.includes(p);return a.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium",children:[a.jsx(Ue,{id:S,checked:_,onCheckedChange:F=>{const D=F?[...u.available_actions,p]:u.available_actions.filter(J=>J!==p);c("available_actions",D)},disabled:!r("Modules")}),a.jsx("label",{htmlFor:S,className:"text-sm leading-none font-medium",children:p.replace("can_","").replace("_"," ").toUpperCase()})]},S)})})})]}),r("Modules")&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mt-4 flex items-center gap-2",children:[a.jsx($e,{type:"button",className:"rounded bg-black px-4 py-1 text-white hover:bg-gray-800",onClick:N,disabled:v,children:"Save Changes"}),a.jsx(En,{show:g,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:a.jsx("p",{className:"text-sm text-neutral-600",children:"Saved"})})]}),h.name&&a.jsx("span",{className:"text-sm font-medium text-red-500",children:h.name})]})]})]})]})}export{No as default};
